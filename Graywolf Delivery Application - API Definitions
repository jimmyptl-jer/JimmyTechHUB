openapi: 3.0.1

info:
  title: Graywolf Delivery Application - API Definitions
  description: >
    Graywolf Dev API is a backend system for a delivery platform, exposing services
    for order lifecycle management, delivery assignment, tracking, and system integrations.
    The API is designed using cloud-native and serverless principles
    to support scalability, automation, and reliable operations.
  version: 0.0.1
  termsOfService: https://www.jimmypatel.tech
  contact:
    name: Jimmy Patel
    url: https://www.jimmypatel.dev
    email: contact@jimmypatel.dev
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://development.eazyshop-server.com/v1
    description: Development server (developer machine)

paths:
  /categories:
    get:
      summary: Get all categories
      description: Returns a list of available categories. Optionally filter by category ID.
      tags:
        - Categories
      parameters:
        - name: categoryId
          in: query
          required: false
          description: Optional category ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: Categories retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
                - Electronics
                - Books
                - Clothing
  /products:
    post:
      summary: Add new Product
      description: Creates a new product in the catalog.
      tags:
        - Products
      parameters:
        - name: productId
          in: query
          required: false
          description: Optional product ID filter
          schema:
            type: integer
          example: 101
      requestBody:
        required: true
        content:
          application/json:
              schema:
                type: object
                required:
                  - title
                  - categoryId
                  - price
                  - stock
                properties:
                  title:
                    type: string
                    example: "Logitech MX Master 3 Wireless Mouse"
                  description:
                    type: string
                    example: "Advanced ergonomic wireless mouse"
                  categoryId:
                    type: integer
                    example: 101
                  brand:
                    type: string
                    example: Logitech
                  price:
                    type: number
                    example: 7999.00
                  currency:
                    type: string
                    example: INR
                  stock:
                    type: integer
                    example: 120
                  images:
                    type: array
                    items:
                      type: string
      responses: 
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties: 
                  message:
                    type: string
                    example: Product created successfully
    get:
      summary: Get all products
      description: Returns a list of available products. Optionally filter by product ID.
      tags:
        - Products
      parameters:
        - name: productId
          in: query
          required: false
          description: Optional product ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'

  /products/{productId}:
    get:
      summary: Get product by ID
      description: Retrieves details of a specific product using the product ID.
      tags:
        - Products
      parameters:
        - name: productId
          in: path
          required: true
          description: Unique identifier of the product
          schema:
            type: string
          example: PROD-10021
      responses:
        '200':
          description: Product retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
                
        '404':
          description: Product not found

  /health:
    get:
      summary: Server health check
      description: Confirms whether the API is running.
      tags:
        - Health
      responses:
        '200':
          description: API is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Server health is OK!
                  timestamp:
                    type: string
                    format: date-time
        '500':
          description: API is unhealthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Internal server error
  /users:
    get:
      summary: Get users
      description: Retrieves users registered in the system.
      tags:
        - Users
      responses:
        '200':
          description: List of users

  /orders:
    get:
      summary: Get all orders
      description: Returns all the orders in the system.
      tags:
        - Orders
      parameters:
        - name: orderId
          in: query
          required: false
          description: Optional order ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: order retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
                - Electronics
                - Books
                - Clothing

  /orders/{orderId}:
    get:
      summary: Get order by ID
      description: Retrieves details of a specific order using the order ID.
      tags:
        - Orders
      parameters:
        - name: orderId
          in: path
          required: true
          description: Unique identifier of the order
          schema:
            type: string
          example: ORD-10021
      responses:
        '200':
          description: Order retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  orderId:
                    type: string
                    example: ORD-10021
                  userId:
                    type: integer
                    example: 501
                  status:
                    type: string
                    example: DELIVERED
                  totalAmount:
                    type: number
                    example: 1499.50
                  currency:
                    type: string
                    example: INR
                  createdAt:
                    type: string
                    format: date-time
                    example: "2026-01-20T10:30:00Z"
        '404':
          description: Order not found

  /deliveries:
    get:
      summary: Get deliveries
      description: Retrieves delivery records.
      tags:
        - Deliveries
      responses:
        '200':
          description: List of deliveries

  /riders:
    get:
      summary: Get riders
      description: Retrieves delivery riders.
      tags:
        - Riders
      responses:
        '200':
          description: List of riders

  /payments:
    get:
      summary: Get payments
      description: Retrieves payment transactions.
      tags:
        - Payments
      responses:
        '200':
          description: List of payments


components:
  schemas:

    Product:
      type: object
      description: Represents a product available for purchase.
      required:
        - productId
        - title
        - categoryId
        - price
        - currency
        - stock
        - status
        - createdAt
      properties:
        productId:
          type: string
          example: PROD-10001
        title:
          type: string
          example: "Logitech MX Master 3 Wireless Mouse"
        description:
          type: string
          example: "Advanced wireless mouse with ergonomic design"
        categoryId:
          type: integer
          example: 101
        brand:
          type: string
          example: Logitech
        price:
          type: number
          example: 7999.00
        currency:
          type: string
          example: INR
        stock:
          type: integer
          example: 120
        status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - OUT_OF_STOCK
          example: ACTIVE
        rating:
          type: number
          example: 4.6
        images:
          type: array
          items:
            type: string
        createdAt:
          type: string
          format: date-time
          example: "2026-01-20T08:30:00Z"
        updatedAt:
          type: string
          format: date-time
          example: "2026-01-22T10:15:00Z"

    User:
      type: object
      description: Represents a user in the delivery application.
      required:
        - userId
        - name
        - email
        - role
        - status
        - createdAt
      properties:

        userId:
          type: string
          description: Unique identifier for the user
          example: USER-10021

        name:
          type: string
          example: Jimmy Patel

        email:
          type: string
          format: email
          example: jimmy@email.com

        phone:
          type: string
          example: "+91-9876543210"

        role:
          type: string
          description: Role assigned to the user
          enum:
            - CUSTOMER
            - ADMIN
            - RIDER
          example: CUSTOMER

        status:
          type: string
          description: Current user status
          enum:
            - ACTIVE
            - INACTIVE
            - BLOCKED
          example: ACTIVE

        addresses:
          type: array
          description: Saved delivery addresses
          items:
            type: object
            required:
              - addressId
              - line1
              - city
              - state
              - postalCode
              - country
            properties:
              addressId:
                type: string
                example: ADDR-101
              line1:
                type: string
                example: "21 MG Road"
              line2:
                type: string
                example: "Near Alkapuri Circle"
              city:
                type: string
                example: Vadodara
              state:
                type: string
                example: Gujarat
              postalCode:
                type: string
                example: "390001"
              country:
                type: string
                example: IN
              isDefault:
                type: boolean
                example: true

        createdAt:
          type: string
          format: date-time
          example: "2026-01-15T09:00:00Z"

        updatedAt:
          type: string
          format: date-time
          example: "2026-01-22T14:20:00Z"

    Delivery:
      type: object
      required:
        - deliveryId
        - orderId
        - riderId
        - status
        - createdAt
      properties:
        deliveryId:
          type: string
          example: DEL-1001
        orderId:
          type: string
          example: ORD-10021
        riderId:
          type: string
          example: RID-501
        status:
          type: string
          enum:
            - ASSIGNED
            - PICKED_UP
            - IN_TRANSIT
            - DELIVERED
            - FAILED
          example: IN_TRANSIT
        estimatedTime:
          type: string
          example: "30 mins"
        createdAt:
          type: string
          format: date-time
    
    Payment:
      type: object
      required:
        - paymentId
        - orderId
        - amount
        - method
        - status
      properties:
        paymentId:
          type: string
          example: PAY-9001
        orderId:
          type: string
          example: ORD-10021
        amount:
          type: number
          example: 1499.50
        method:
          type: string
          enum:
            - UPI
            - CARD
            - NET_BANKING
            - COD
        status:
          type: string
          enum:
            - PENDING
            - PAID
            - FAILED
            - REFUNDED

