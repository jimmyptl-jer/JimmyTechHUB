openapi: 3.0.1

info:
  title: Graywolf Delivery Application - API Definitions
  description: >
    Graywolf Dev API is a backend system for a delivery platform, exposing services
    for order lifecycle management, delivery assignment, tracking, and system integrations.
    The API is designed using cloud-native and serverless principles
    to support scalability, automation, and reliable operations.
  version: 0.0.1
  termsOfService: https://www.jimmypatel.tech
  contact:
    name: Jimmy Patel
    url: https://www.jimmypatel.dev
    email: contact@jimmypatel.dev
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://development.eazyshop-server.com/v1
    description: Development server (developer machine)

paths:
  /categories:
    get:
      summary: Get all categories
      description: Returns a list of available categories. Optionally filter by category ID.
      tags:
        - Categories
      parameters:
        - name: categoryId
          in: query
          required: false
          description: Optional category ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: Categories retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
                - Electronics
                - Books
                - Clothing
  /products:
    post:
      summary: Add new Product
      description: Creates a new product in the catalog.
      tags:
        - Products
      parameters:
        - name: productId
          in: query
          required: false
          description: Optional product ID filter
          schema:
            type: integer
          example: 101
      requestBody:
        required: true
        content:
          application/json:
              schema:
                type: object
                required:
                  - title
                  - categoryId
                  - price
                  - stock
                properties:
                  title:
                    type: string
                    example: "Logitech MX Master 3 Wireless Mouse"
                  description:
                    type: string
                    example: "Advanced ergonomic wireless mouse"
                  categoryId:
                    type: integer
                    example: 101
                  brand:
                    type: string
                    example: Logitech
                  price:
                    type: number
                    example: 7999.00
                  currency:
                    type: string
                    example: INR
                  stock:
                    type: integer
                    example: 120
                  images:
                    type: array
                    items:
                      type: string
      responses: 
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties: 
                  message:
                    type: string
                    example: Product created successfully
    get:
      summary: Get all products
      description: Returns a list of available products. Optionally filter by product ID.
      tags:
        - Products
      parameters:
        - name: productId
          in: query
          required: false
          description: Optional product ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: Products retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
                - Laptop
                - Book
                - T-Shirt

  /products/{productId}:
    get:
      summary: Get product by ID
      description: Retrieves details of a specific product using the product ID.
      tags:
        - Products
      parameters:
        - name: productId
          in: path
          required: true
          description: Unique identifier of the product
          schema:
            type: string
          example: PROD-10021
      responses:
        '200':
          description: Product retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  productId:
                    type: string
                    example: PROD-10021
                  name:
                    type: string
                    example: Wireless Headphones
                  price:
                    type: number
                    example: 1499.50
                  currency:
                    type: string
                    example: INR
                  createdAt:
                    type: string
                    format: date-time
                    example: "2026-01-20T10:30:00Z"
        '404':
          description: Product not found

  /health:
    get:
      summary: Server health check
      description: Confirms whether the API is running.
      tags:
        - Health
      responses:
        '200':
          description: API is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Server health is OK!
                  timestamp:
                    type: string
                    format: date-time
        '500':
          description: API is unhealthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Internal server error

  /metrics:
    get:
      summary: Application metrics
      description: Exposes application metrics for monitoring systems.
      tags:
        - Monitoring
      responses:
        '200':
          description: Metrics data
          content:
            text/plain:
              schema:
                type: string
                example: process_cpu_seconds_total 12.34

  /status:
    get:
      summary: Application status
      description: Returns deployment and runtime status information.
      tags:
        - System
      responses:
        '200':
          description: Status information
          content:
            application/json:
              schema:
                type: object
                properties:
                  environment:
                    type: string
                    example: development
                  version:
                    type: string
                    example: 0.0.1

  /users:
    get:
      summary: Get users
      description: Retrieves users registered in the system.
      tags:
        - Users
      responses:
        '200':
          description: List of users

  /orders:
    get:
      summary: Get all orders
      description: Returns all the orders in the system.
      tags:
        - Orders
      parameters:
        - name: orderId
          in: query
          required: false
          description: Optional order ID filter
          schema:
            type: integer
          example: 101
      responses:
        '200':
          description: order retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
                - Electronics
                - Books
                - Clothing

  /orders/{orderId}:
    get:
      summary: Get order by ID
      description: Retrieves details of a specific order using the order ID.
      tags:
        - Orders
      parameters:
        - name: orderId
          in: path
          required: true
          description: Unique identifier of the order
          schema:
            type: string
          example: ORD-10021
      responses:
        '200':
          description: Order retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  orderId:
                    type: string
                    example: ORD-10021
                  userId:
                    type: integer
                    example: 501
                  status:
                    type: string
                    example: DELIVERED
                  totalAmount:
                    type: number
                    example: 1499.50
                  currency:
                    type: string
                    example: INR
                  createdAt:
                    type: string
                    format: date-time
                    example: "2026-01-20T10:30:00Z"
        '404':
          description: Order not found

  /deliveries:
    get:
      summary: Get deliveries
      description: Retrieves delivery records.
      tags:
        - Deliveries
      responses:
        '200':
          description: List of deliveries

  /riders:
    get:
      summary: Get riders
      description: Retrieves delivery riders.
      tags:
        - Riders
      responses:
        '200':
          description: List of riders

  /payments:
    get:
      summary: Get payments
      description: Retrieves payment transactions.
      tags:
        - Payments
      responses:
        '200':
          description: List of payments
